<h1>The BashSoft project will evolve during the 3 submodules of the OOP course. By the end of OOP Advanced module, it should be a properly written object orientated project, following all good practices and SOLID principles.</h1>
<h1>BashSoft piece: Stacks and Queues</h1>
<h1>Part I: Creating the base functionality needed</h1>
<h2>Problem 1. &nbsp;Create a Visual Studio Project</h2>
<p>Our first task is to <strong>create</strong> a <strong>project</strong> called <strong>BashSoft</strong>, which we will extend until the end of the course so you might want to <strong>save</strong> <strong>it</strong> somewhere, where you can <strong>easily</strong> <strong>find</strong> it and where you can be <strong>sure</strong> you <strong>won&rsquo;t delete </strong>it. You can call the class with the <strong>Main()</strong> method, <strong>Launcher</strong>, because from it we will only call the specific functions we want to execute, but our execution logic will be in other classes.</p>
<p>Once you have created the project, you have to add a class that we will call <strong>IOManager</strong> and it will give us the functionality for traversing the folders and other behaviors.</p>
<p>In the next menu you have to choose to create a new class with the name &ldquo;<strong>IOManager</strong>&rdquo;</p>
<p>Next the only things we have to <strong>change</strong> over the <strong>generated class</strong> is <strong>to</strong> add it &ldquo;<strong>public static</strong>&rdquo; before the keyword <strong>class</strong>. The keyword &ldquo;<strong>public</strong>&rdquo; means we can <strong>use</strong> our class <strong>everywhere</strong> in our project. Sometimes we will leave some methods <strong>private</strong>, because we may want to <strong>hide</strong> some of the <strong>functionality</strong> of our class, in front of the other world. The other keyword &ldquo;<strong>static</strong>&rdquo; means that we can do &ldquo;<strong>general/global</strong>&rdquo; stuff with it. Example: &ldquo;<strong>Math</strong>&rdquo;, &ldquo;<strong>Console</strong>&rdquo;.</p>
<p>The <strong>opposite</strong> <strong>of</strong> <strong>static</strong> we can say are classes like &ldquo;<strong>Stack</strong>, <strong>List</strong>, <strong>StringBuilder</strong>&rdquo;&nbsp; for which we have to say &ldquo;<strong>new List&lt;T&gt;&rdquo;</strong> in order <strong>to</strong> <strong>create</strong> a <strong>new</strong> list. The <strong>static</strong> classes <strong>do not need to be created</strong> like we don&rsquo;t say &ldquo;new Math&rdquo;, instead we just use <strong>Math.Sqrt().</strong></p>
<p>So now your class should look something like this:</p>
<h2>Problem 2. Create a flexible interface for output to the user</h2>
<p>So now that we have our first class we are going to have to implement some functionality that this class should have. But before that, first we have to decide <strong>how</strong> are we going <strong>to</strong> <strong>communicate with the user efficiently</strong> and if this is something that we have to use in many places, how can we change it or replace it easily using doing only a few changes in one place. The solution behind such a problem give us one of the <a href="https://en.wikipedia.org/wiki/Software_design_pattern"><strong>Design Patterns</strong></a> which are a topic of the <strong>next course</strong>, but the main idea of this one is that we can <strong>hide</strong> some <strong>functionality</strong> (The writing to the console, which can easily be changed for writing in a file), <strong>by using</strong> a <strong>class</strong> that only gives us <strong>base functionality</strong> for communication with a user.</p>
<p>Our new class can be called <strong>OutputWriter</strong> and you should make it following the steps above as described for the <strong>IOManager</strong>. The <strong>new class</strong> again has to be <strong>public</strong> and <strong>static</strong> and after you&rsquo;ve created it, it should look something like this:</p>
<p>So now we can add a few methods that we will use throughout our whole app that write to the currently set output.</p>
<ul>
<li>The first method gives us the ability to <strong>write a message. </strong></li>
<li>The second method to implement is a method for<strong> writing a message on a new line</strong>.</li>
<li>The third method is to <strong>write a new empty line</strong>.</li>
<li>The fourth method is to <strong>write a different kind of message</strong> which is an <strong>error/exception</strong>.</li>
</ul>
<p>The class with the three methods inside it should look something like this:</p>
<p>The implementation of the first three methods is pretty common. The <strong>first</strong> one only <strong>writes the message on the console</strong>, and the <strong>second</strong> one <strong>writes the message</strong> and goes to the <strong>next line after that</strong>. The <strong>third</strong> only <strong>writes an empty line on the console</strong>. The <strong>fourth</strong> method however has some small specifics. The specifics are that we need to <strong>get</strong> the <strong>current</strong> <strong>foreground color</strong>(font color), <strong>save it</strong>, <strong>change the foreground color to red</strong>, <strong>write the given message</strong> and finally <strong>change</strong> the <strong>foreground color</strong> <strong>to</strong> the <strong>one</strong> <strong>before</strong>. Here is how this has to look in code:</p>
<p>Now that we are ready with the user output. It&rsquo;s time to implement the traversal of the folders and in the future, <strong>if</strong> we want to <strong>change</strong> the <strong>output destination</strong>, we <strong>only</strong> need to <strong>change</strong> it here in the <strong>class</strong> we <strong>just made</strong>, and not everywhere where we&rsquo;ve written <strong>Console.WriteLine()</strong>.</p>
<h1>Part II:&nbsp; Implementing the traversal alorithm</h1>
<h2>Problem 3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Traversing the folder of the project&nbsp;</h2>
<p>Our next task is to learn how to <strong>traverse folders</strong> in order to be able to do all kinds of operations with files that are stored on the hard drive. This is our first small step into the big picture.</p>
<p>We will <strong>traverse the folder</strong> of the project <strong>using</strong> <strong>queue</strong> with a technique called <a href="https://en.wikipedia.org/wiki/Breadth-first_search"><strong>BFS</strong></a>. <a href="https://upload.wikimedia.org/wikipedia/commons/5/5d/Breadth-First-Search-Algorithm.gif">Here</a> is a animation that can probably help you understand how <strong>BFS</strong> works, however this is not the main point, so you may just use it, without going into too much depth about how it works.</p>
<p>Shortly we will create a method <strong>TraverseFolder (string path)</strong>. How does it traverse a folder? <strong>First</strong> it <strong>enqueues</strong> the <strong>folder</strong> that we <strong>pass as parameter</strong> in the method signature. After that it <strong>dequeues</strong> <strong>every</strong> <strong>folder</strong> in the queue one at a time <strong>until</strong> the <strong>queue</strong> becomes <strong>empty</strong>, <strong>while</strong> <strong>at the sam</strong>e time <strong>enqueues</strong> <strong>all</strong> of its <strong>subfolders</strong> at the end of the queue.</p>
<p>For our purposes we will <strong>use</strong> the static class <strong>DirectoryInfo</strong>, which <strong>will</strong> <strong>give</strong> us all the <strong>information</strong> we need <strong>for</strong> the <strong>directories</strong> we work with, don&rsquo;t worry you&rsquo;ll get familiar with it in a few lectures. Here is the initialization of the method with the queue. We <strong>enqueue</strong> the <strong>root</strong> <strong>folder</strong> we wanted to traverse first and also <strong>create</strong> a <strong>variable</strong> <strong>for</strong> the <strong>indentation</strong> of the first path, so it can be later <strong>used</strong> <strong>for</strong> <strong>displaying</strong> the <strong>levels</strong> <strong>of depth</strong> we&rsquo;ve entered while traversing.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>Next we need to make sure we will <strong>traverse</strong> <strong>all</strong> of the <strong>subfolders</strong> that we have <strong>in</strong> the <strong>queue</strong> so we will traverse <strong>while</strong> the <strong>queue</strong> is <strong>not empty</strong> (that is why we <strong>push</strong> the <strong>initial</strong> <strong>element</strong> in the queue).</p>
<p><strong>For each iteration</strong> <strong>of</strong> the <strong>while</strong> <strong>loop</strong> we want to <strong>dequeue</strong> a <strong>folder</strong> that we are going to traverse and to <strong>print</strong> its <strong>path</strong>, but in order to know how many level in depth we have entered, we are going to <strong>use</strong> <strong>another</strong> <strong>indentation</strong> <strong>variable</strong> and <strong>take</strong> <strong>the delta between the two</strong>.&nbsp;</p>
<p>Also <strong>for each folder</strong> we need to <strong>iterate</strong> <strong>all</strong> its <strong>subfolders</strong> and <strong>add</strong> <strong>them</strong> <strong>to</strong> the end of the <strong>queue</strong>. We can do this with a simple foreach loop:</p>
<p>You can <strong>print</strong> the <strong>full</strong> <strong>name</strong> <strong>of</strong> the <strong>directory</strong> with the following line of code:</p>
<p>Now if you filled your TODOs properly when you run your code you should get some output like this if we call the method through the <strong>Main()</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; <br /><br /></p>
<p>&nbsp;You are now ready with your first tool for the wanted bash. Soon you will be able to easily change your position in the file system and do different operations with other files.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

<h2>PART&nbsp;2</h2>
<h2>Problem 1. Crñeating a set of error messages to display if a function produces such an error:</h2>
<p>Since we are making a <strong>fairly</strong> <strong>big</strong> <strong>project</strong>, we will have <strong>different</strong> <strong>constant</strong> <strong>messages</strong> to display <strong>in</strong> the whole <strong>project</strong> to the user, so a <strong>good</strong> <strong>idea</strong> would be to <strong>extract</strong> <strong>all</strong> these <strong>messages</strong> <strong>in</strong> <strong>one</strong> <strong>place</strong> and be able to <strong>change</strong> what you want <strong>from</strong> <strong>1</strong> <strong>place</strong> only. So now we are going to <strong>create</strong> such a <strong>class</strong>, where to <strong>save</strong> such <strong>messages</strong> that are <strong>used</strong> <strong>often</strong>.<br/> The <strong>class</strong> should be <strong>named</strong> <strong>ExceptionMessages</strong> and is <strong>public</strong> and <strong>static</strong>. The only things we are going to <strong>put</strong> in this class are <strong>public</strong> <strong>const</strong> <strong>strings</strong> <strong>with</strong> a given <strong>name</strong> <strong>and</strong> it&rsquo;s corresponding <strong>message</strong>:</p>
<p>So from now on, every time we have to add a message you should follow the format described above.</p>
<h2>Problem 2. Creating a data structure for the Bashsoft</h2>
<p>Our next task is to <strong>create</strong> a fast and <strong>efficient data structure</strong> that we can <strong>use</strong> in out command interpreter <strong>to store</strong> <strong>data</strong>, easily <strong>make changes</strong>, <strong>find</strong> wanted <strong>information</strong> or <strong>generate</strong> some <strong>statistics</strong> from the data.</p>
<p><strong>First</strong> thing you have to do is to <strong>open</strong> your <strong>project</strong> from the previous assignment and <strong>set</strong> <strong>up</strong> a <strong>class</strong> in which you will store your data. You have to create <strong>a new class</strong>, following the steps from the previous piece of the story. This class will be called &ldquo;<strong>StudentsRepository</strong>&rdquo; and has to be <strong>static</strong> and <strong>public</strong>. By now you should be somewhere around here:</p>
<p>Now it is time to decide what <strong>data structure</strong> to define for our application in order to be able to make <strong>fast operations</strong> and have easy access to your data. Since we have to save different courses, the students in those courses have <strong>unique</strong> usernames and list of grades, we can save them in two nested dictionaries with one additional list. See below:</p>
<p><strong><br/> <br/> </strong></p>
<p>We will also <strong>add</strong> a <strong>public</strong> <strong>boolean flag</strong> for <strong>whether</strong> the <strong>data structure </strong>we want to have <strong>has been initialized</strong>. You may have noticed but we&rsquo;ve put <strong>private</strong> in front of our <strong>data structure</strong> and that is <strong>because</strong> we <strong>do not want</strong> <strong>everybody</strong> outside of this class <strong>to see</strong> our data structure and <strong>change</strong> it, <strong>so</strong> by making it <strong>private</strong> we can <strong>only see</strong> it in the <strong>current</strong> <strong>class</strong> and we will make some of the data <strong>searching and filtration throughout public methods</strong> that give to the other world the basic operations needed over the <strong>SoftUni</strong> system&rsquo;s data.&nbsp;</p>
<h2>Problem 3. Initializing and saving our data</h2>
<p>In order to complete our task, we need to <strong>initialize</strong> our <strong>data structure</strong> and <strong>fill it</strong>, so we will <strong>make a new method</strong> that <strong>initializes</strong> the <strong>data structure,</strong> <strong>if it is not initialized yet</strong>, <strong>reads</strong> the <strong>data</strong>, if it is, we <strong>display</strong> a <strong>new</strong> <strong>message</strong> called <strong>DataAlreadyInitialisedException</strong> that we need to <strong>add</strong> <strong>first</strong> <strong>in</strong> the <strong>ExceptionMessages</strong> <strong>class</strong>. It&rsquo;s <strong>message</strong> <strong>should</strong> <strong>be</strong>: Data is already initialized! The implementation of the method for the initialization should look like this:</p>
<p>Now it&rsquo;s time to <strong>fill</strong> the <strong>private ReadData</strong> method (the data will always be valid). It is <strong>private</strong> because we <strong>do not want</strong> to be reachable out of our class.</p>
<p>All we are going to do, is to <strong>read from the console until an empty line is read</strong>. The data you need to read is in the <strong>data.txt</strong> file given with the current document. We also need to <strong>extract</strong> the <strong>information</strong> we need <strong>from</strong> the <strong>input</strong> and <strong>save </strong>it <strong>in</strong> our <strong>data structure.</strong></p>
<p>MARKS SHOULD BE ARRAY NOT SINGLE VALUE</p>
<p>Now we need to <strong>check</strong> <strong>if</strong> our course and student <strong>exists</strong> in our data. <strong>If</strong> we <strong>don&rsquo;t do this</strong> we are sure to get an <strong>exception</strong>. So <strong>if</strong> the <strong>course</strong> <strong>doesn&rsquo;t exist</strong> we must <strong>initialize the inner</strong> <strong>dictionary</strong> holding the students for the given course. Also <strong>if</strong> the <strong>student</strong> <strong>doesn&rsquo;t</strong> exist we have to <strong>initialize the inner list</strong> with grades. Finally we <strong>add</strong> the mark.</p>
<p>Finally <strong>after</strong> the <strong>while</strong> <strong>loop</strong> we need to <strong>set</strong> the <strong>isDataInitialized</strong> to <strong>true</strong> and <strong>print</strong> &ldquo;<strong>Data</strong> <strong>read</strong>!&rdquo; <strong>on</strong> a <strong>new</strong> <strong>line</strong>!</p>
<h2>Problem 4. Making security checks available before retrieving data from the data structure</h2>
<p>Since we are going to <strong>make</strong> <strong>queries</strong> <strong>to</strong> the <strong>data</strong> <strong>structure</strong> in this BashSoft piece and also in some others along the track of the course, so it <strong>would</strong> <strong>be</strong> a <strong>good</strong> <strong>idea</strong> <strong>to</strong> <strong>make</strong> a <strong>method</strong> <strong>for</strong> the <strong>security</strong> <strong>checks</strong> <strong>in</strong> <strong>order</strong> <strong>to</strong> <strong>retrieve</strong> some <strong>data</strong> for a given course or for a given student in some course. This way we will <strong>save</strong> <strong>our</strong> <strong>selves</strong> the <strong>writing</strong> of the <strong>checks</strong> <strong>each</strong> <strong>time</strong> and <strong>invoke</strong> the <strong>methods</strong> <strong>where</strong> such a check is <strong>needed</strong>.</p>
<p>So the <strong>first</strong> <strong>method</strong> will be <strong>called</strong> <strong>IsQueryForCoursePossible</strong> and the <strong>second</strong> will be <strong>called</strong> <strong>IsQueryForStudentPossibl</strong><strong>å</strong>. <strong>Both</strong> should be <strong>private</strong> and <strong>static</strong> and as you might guess their <strong>return</strong> type is <strong>bool</strong>. The <strong>first</strong> one take <strong>one</strong> <strong>parameter</strong> (<strong>the course name</strong>) and the <strong>second</strong> one takes <strong>two</strong> <strong>parameters</strong> (<strong>the course name</strong>) (<strong>the user name of the student</strong>). Their definition should look like the following:</p>
<p>Since the <strong>second</strong> <strong>method</strong> will have to do half of the checks for the course that are done in the first method we <strong>will</strong> <strong>reuse</strong> the <strong>first</strong> <strong>one</strong> and for this reason we are starting with it&rsquo;s implementation.</p>
<p>First thing we need to <strong>check</strong> in order to search for the given course name, is <strong>whether</strong> the <strong>data</strong> <strong>structure</strong> <strong>is</strong> actually <strong>initialized</strong>. <strong>If</strong> it <strong>hasn&rsquo;t</strong> been <strong>initialized</strong> we <strong>create</strong> a <strong>new</strong> <strong>message</strong> <strong>in</strong> the <strong>ExceptionsMessages</strong> that is <strong>called</strong> <strong>DataNotInitializedExceptionMessage</strong> and it&rsquo;s message is : &ldquo;The data structure must be initialised first in order to make any operations with it.&rdquo; : <br/> <br/> <br/> <br/> <br/> We are now <strong>returning</strong> <strong>true</strong> <strong>if</strong> the <strong>data</strong> <strong>structure</strong> has been <strong>initialized</strong>, but we <strong>haven&rsquo;t</strong> <strong>checked</strong> <strong>whether</strong> the <strong>given</strong> <strong>courseName exists</strong> as a key in the data structure. <br/> So now we have to <strong>add</strong> this <strong>check</strong> <strong>in</strong> the <strong>body</strong> <strong>of</strong> the <strong>if</strong> and <strong>if</strong> the <strong>data</strong> <strong>structure</strong> <strong>contains</strong> the <strong>key</strong>, we <strong>return</strong> <strong>true</strong> while in the <strong>other</strong> <strong>case</strong> we <strong>display</strong> an <strong>exception</strong> that we&rsquo;ll need to add in the <strong>ExceptionsMessages</strong> called <strong>InexistingCourseInDataBase</strong> <strong>with</strong> the following <strong>message</strong>: &ldquo;The course you are trying to get does not exist in the data base!&rdquo;<br/> <br/> <br/> Now that we&rsquo;ve implemented the first method for the checks, it&rsquo;s time for it&rsquo;s sidekick. As we&rsquo;ve said we will <strong>reuse</strong> the <strong>check</strong> <strong>from</strong> the <strong>first</strong> <strong>method</strong> and also <strong>add</strong> a <strong>check</strong> for <strong>whether</strong> the <strong>given</strong> student <strong>user</strong> <strong>name</strong> <strong>exists</strong> in the data structure of the university. If it is present, we return true, if it is not we <strong>display</strong> an <strong>exception</strong> that we&rsquo;ll need to add in the <strong>ExceptionsMessages</strong> called <strong>InexistingStudentInDataBase</strong> <strong>with</strong> the following <strong>message</strong>: &ldquo;Problem 5.and <strong>finally</strong> we <strong>return</strong> <strong>false</strong> : <br/> <br/> <br/> Now that we are ready with the security checks we are ready to proceed with the next step.</p>
<h2>Problem 6. Displaying a student entry:</h2>
<p><strong>Before</strong> we continue with the <strong>reading</strong> of the <strong>data</strong>, there is just one last thing we might <strong>add</strong> in order to make our life easier. Since now we have <strong>two</strong> <strong>methods</strong> that are going <strong>to</strong> <strong>display</strong> <strong>student</strong> somehow and we might have more things that need to display student after a filter or a sorting for example, by implementing such a method <strong>we</strong> <strong>do</strong> <strong>not</strong> <strong>need</strong> <strong>to write formatting strings in every method</strong> that displays students on the output writer. The given <strong>method</strong> will be <strong>called</strong> <strong>DisplayStudent</strong> <strong>receiving</strong> a <strong>KeyValuePair</strong> of <strong>string</strong> (user name) and value: <strong>List&lt;int&gt;</strong> (scores on tasks). A good place to <strong>put</strong> the <strong>print</strong> <strong>student</strong> <strong>method</strong> may be the Student repository, but maybe an even better place is <strong>in</strong> the <strong>output</strong> <strong>writer</strong> since it implements the logic for how thing are displayed on the standard output. The implementation of the method should be as follows: <br/> <br/> <br/> Now that we are ready with the displaying of a student are ready to proceed with the actual reading of the data from the data structure.</p>
<h2>Problem 7. Reading information from our data</h2>
<p>The most basic operations for extracting information will be to <strong>get all students from a given course</strong> and <strong>get all the scores on the tasks</strong>. We need <strong>define two methods</strong>. Let&rsquo;s start with the <strong>first</strong> <strong>one</strong>. It should be <strong>public</strong> <strong>static</strong> with <strong>return</strong> type <strong>void</strong>. It&rsquo;s <strong>parameters</strong> are the <strong>course</strong> <strong>name</strong> and the <strong>user</strong> <strong>name</strong> <strong>of</strong> the <strong>student</strong>. So <strong>if</strong> the <strong>query</strong> <strong>for</strong> the <strong>given</strong> <strong>student</strong> is <strong>possible</strong>, we need to <strong>print</strong> the <strong>him</strong> <strong>on</strong> the output and so we give a new student to the <strong>Output</strong> <strong>writer</strong> in order to be printed:</p>
<p>The other method is analogical. It <strong>gets all students from a given course</strong> <strong>if</strong> the <strong>query</strong> for course is <strong>possible</strong>.<br/> <strong>First</strong> we <strong>write</strong> the <strong>course</strong> <strong>name</strong> followed by two dots and after that we <strong>foreach</strong> the <strong>collection</strong> with <strong>students</strong> from the given course and <strong>print</strong> <strong>all</strong> of the <strong>students</strong> </p>
<h2>Problem 8. Test your code</h2>
<p>If you put the given input and <strong>get all the students from the Unity course</strong>( query should look like this): `</p>
<p>And the result should look like this:</p>
<p>Now we want to test the functionality for <strong>getting student&rsquo;s grades from a given course</strong>. The request should look something like this:</p>
<p>And the result, something like this:</p>
<p>Now we are ready with the current piece and now we can easily keep track of the courses and students inside them and if needed, view some data that we might want. Soon we will <strong>learn</strong> how to make <strong>filters</strong> and <strong>sort</strong> our data so that it is in a more accurate format and moreover we will <strong>go</strong> <strong>into</strong> <strong>depth</strong> <strong>about</strong> the <strong>constraints</strong> for the possible course names, user names and scores on a given task.</p>
<h2>PART&nbsp;3</h2>
<h2>Problem 1. DIY Judge System</h2>
<h3>Idea overview</h3>
<p>Our first task is to <strong>implement</strong> a simple &ldquo;<strong>judge</strong>&rdquo; system which we will later <strong>use</strong> <strong>to</strong> <strong>test</strong> our <strong>solutions</strong>. Why not use the good old judge? Well he&rsquo;s taken the week off and we still need a way to test our code. The idea is simple &ndash; <strong>create a program which will read a text file</strong> (your output for a given problem) and <strong>compare</strong> its <strong>contents</strong> to the contents of another text file (expected output for that problem), <strong>if</strong> the contents are <strong>identical</strong> then the files are identical and your <strong>output is correct</strong> and everything&rsquo;s smooth. <strong>If</strong> the files <strong>differ</strong> in any way then an extra file called &ldquo;<strong>Mismatches.txt</strong>&rdquo; is <strong>created</strong> which <strong>holds detailed information about the lines that do not match</strong>. Let&rsquo;s start off.</p>
<h3>Set up our Tester Class</h3>
<p>Create a new Visual Project Solution and a new Console Application called &ldquo;SimpleJudge&rdquo;. In the SimpleJudge project <strong>add</strong> a <strong>new</strong> <strong>class</strong> called &ldquo;<strong>Tester</strong>&rdquo;. Mark it as <strong>public static </strong>class and <strong>declare</strong> a <strong>new</strong> <strong>public static void </strong>method called <strong>CompareContent(string userOutputPath, string expectedOutputPath)</strong>:</p>
<p>The idea here is that using <strong>userOutputPath </strong>and <strong>expectedOutputPath</strong> we can find the <strong>files</strong> <strong>holding</strong> the <strong>user output</strong> and <strong>expected output respectively</strong>, <strong>read</strong> the <strong>user output</strong> and <strong>the expected output</strong> and <strong>compare</strong> them <strong>line by line</strong> to see if they are identical.</p>
<p>As we mentioned above, however, we will also need a path to <strong>create</strong> the <strong>Mismatches.txt </strong>text file which will <strong>hold</strong> the <strong>mismatches</strong> (if any). In order to do that efficiently we can <strong>use</strong> the <strong>expectedOutputPath</strong> and simply <strong>create</strong> the <strong>Mismatches.txt in the same folder</strong>. How can we go about this? First we need to <strong>extract the path</strong> to the directory <strong>of</strong> the <strong>expected output file</strong>. We achieve this by creating a helper method:</p>
<p>What this method does is simply <strong>get the path</strong> <strong>to</strong> the directory of the <strong>expected</strong> <strong>output</strong> <strong>file</strong> <strong>by finding the index of the last &lsquo;\&rsquo; </strong>in the path of the expected output file. For example if the path is <em>C:\OutputFiles\OddLinesExpectedOutput.txt </em>we <strong>find</strong> the <strong>index</strong> of the second <strong>&lsquo;\&rsquo;</strong> (14 in our case) then we simply <strong>get a substring of that path up until that index </strong>and we end up with <em>C:\OutputFiles </em>which is the path to the directory of the output file. Then we finally <strong>append</strong> the <strong>name of </strong>our <strong>file</strong> <strong>and</strong> a <strong>slash <em>&ldquo;\Mismatches.txt&rdquo;</em></strong> and we finally end up with a path looking something like this &ldquo;<em>C:\OutputFiles\Mismatches.txt&rdquo;</em>. You might wonder how come we use a path to a file that does not currently exist. We&rsquo;ll get to that in a moment, but first let&rsquo;s call out helper method up in our main method.</p>
<h3>Read from and create files</h3>
<p>Next up we need to <strong>read</strong> the <strong>two files </strong>&ndash; the user output and the expected output. This is done again in just one line of code. We call the <strong>File </strong>class and invoke the <strong>.ReadAllLines(string path)</strong> method. However this time around we need a variable in which we can actually store the contents of the files we read from. The <strong>File.ReadAllLines(string path) </strong>function<strong> returns a string array </strong>so our code will look something like this:</p>
<p>We end up with a variable input which holds all the <strong>user output</strong>, read from the user output text file line by line, and a variable called <strong>expectedOutput </strong>which holds the&hellip; expected output, again read from the expected output text file line by line. We are ready to start the <strong>comparison of the two</strong> <strong>files</strong>. The information we will need while comparing the files is whether there are any mismatches and also the result of the comparison of two corresponding lines. So we can <strong>make</strong> one <strong>Boolean</strong> for the <strong>mismatches</strong> <strong>and</strong> <strong>one</strong> <strong>string</strong> <strong>array</strong> called <strong>mismatches</strong> which <strong>gets</strong> it&rsquo;s <strong>value</strong> <strong>from</strong> the <strong>method</strong> <strong>GetLineWithPossibleMismatches</strong> with it&rsquo;s three parameters shown in the picture below:<br/> <br/> <br/> <br/> We&rsquo;ll get to the implementation of this method in a moment. First we need to finish the <strong>CompareContent </strong>method so that we can focus our attention on the other functionality waiting to be written. <br/> The last thing we can do <strong>after</strong> <strong>all</strong> the <strong>checks</strong> <strong>for</strong> <strong>mismatches</strong> is to <strong>write</strong> them <strong>on</strong> the <strong>set</strong> <strong>output</strong> <strong>writer</strong> <strong>and</strong> <strong>in</strong> the <strong>mismatches.txt file</strong> which is in the same folder as the first file given for comparison and that is done by the <strong>PrintOutput</strong> method. And finally print on the output writer that the files are read:</p>
<p><br/> As you can see the <strong>method for printing</strong> the output of the comparison <strong>takes</strong> <strong>3 parameters</strong>, which are <strong>related</strong> <strong>to</strong> the <strong>possible</strong> <strong>mismatches</strong> We will discuss the implementation of this method after the previous one, so it is last on the queue now.</p>
<p>Finally the <strong>CompareContent</strong> method should look like something pretty similar to this:</p>
<h3>Find mismatches of two files line by line</h3>
<p>Since we are going to <strong>compare</strong> <strong>two</strong> <strong>files</strong>, and that is a separate task, we will use a separate <strong>method</strong> to do so. It&rsquo;s <strong>called</strong> <strong>GetLinesWithPossibleMismatches</strong> and <strong>takes</strong> <strong>three</strong> <strong>parameters</strong> which are the <strong>strings</strong> <strong>array</strong> <strong>from</strong> the <strong>first</strong> <strong>file</strong>, the <strong>string</strong> <strong>array</strong> <strong>from</strong> the <strong>second</strong> <strong>file</strong> <strong>and</strong> an <strong>out</strong> <strong>parameter</strong> <strong>for</strong> whether there are any <strong>mismatches</strong>, <strong>so</strong> that the following <strong>method</strong> <strong>can</strong> <strong>change</strong> <strong>a</strong> <strong>variable</strong> <strong>outside</strong> <strong>of it&rsquo;s scope</strong>. The method <strong>returns</strong> a <strong>new</strong> <strong>string</strong> <strong>array</strong> which <strong>represents</strong> the <strong>result</strong> <strong>after</strong> the <strong>comparison</strong> of each line.</p>
<p> </p>
<p>Before we start the actual comparison and matching it&rsquo;d be a good idea to <strong>declare</strong> <strong>one</strong> <strong>helper</strong> <strong>variable</strong> which will come into play a bit later. A <strong>string</strong> that has an <strong>initial</strong> <strong>value</strong> of an <strong>empty</strong> <strong>string</strong> and is later <strong>used</strong> <strong>for</strong> the line by line <strong>comparison</strong> <strong>of</strong> the <strong>two</strong> <strong>output</strong> <strong>files</strong> that are given for comparison. Another thing we might want to <strong>set</strong> is the <strong>hasMismatch</strong> <strong>variable</strong> to <strong>false</strong> and <strong>only</strong> <strong>if</strong> on some place <strong>two</strong> <strong>lines</strong> are found <strong>with</strong> a <strong>difference</strong> between them, the <strong>hasMismatch</strong> variable is <strong>set</strong> <strong>to</strong> <strong>true</strong> <strong>and</strong> the one that is <strong>outside</strong> of the method <strong>will</strong> <strong>also</strong> <strong>be</strong> <strong>set</strong> <strong>to</strong> <strong>true</strong>.</p>
<p>Now that we have that sorted out we can safely get to the actual comparison. How do we go about that? Well we will need a few things in order to do effective comparison and write down our mismatches. In order to <strong>compare</strong> the <strong>lines</strong> we can <strong>simply</strong> <strong>run</strong> a <strong>single</strong> <strong>for</strong> <strong>loop</strong> which iterates <strong>through</strong> both <strong>user</strong> <strong>generated</strong> output <strong>and</strong> the <strong>expected</strong> <strong>output</strong> <strong>comparing</strong> each <strong>line</strong> <strong>at</strong> <strong>every</strong> <strong>iteration</strong> and writes the result of each comparison in a new string array called mismatches which we create in after creating the two variable above.</p>
<p>What&rsquo;s going on here is pretty straightforward. We simply <strong>iterate</strong> <strong>over</strong> <strong>all</strong> the <strong>lines</strong> from both the files by <strong>assigning</strong> the <strong>current</strong> <strong>line</strong> <strong>to</strong> the <strong>actual line</strong> variable <strong>and</strong> the <strong>expected</strong> <strong>line</strong> <strong>to</strong> the<strong> expectedItem</strong> <strong>and</strong> <strong>comparing</strong> <strong>them</strong>. <strong>If</strong> they are <strong>not</strong> <strong>matching</strong> we <strong>mark</strong> <strong>mismatch</strong> as <strong>true</strong>, and we will set the output to the following message:</p>
<p>And after that append a new line like shown in the else clause in the code above</p>
<p>. <strong>If</strong> however we <strong>don&rsquo;t</strong> <strong>get</strong> a <strong>mismatch</strong>, <strong>if</strong> the <strong>lines</strong> are <strong>identical</strong> then we simply <strong>write</strong> <strong>down</strong> the <strong>line</strong> in <strong>Mismatches.txt</strong>. Why? Well because <strong>if</strong> we get an eventual <strong>mismatch</strong> down the line or if we&rsquo;ve gotten one already, it&rsquo;ll be <strong>easier</strong> <strong>to</strong> <strong>see</strong> <strong>where</strong> <strong>it</strong> <strong>occurred</strong> <strong>if</strong> we also <strong>have</strong> the <strong>rest</strong> <strong>of</strong> the <strong>text</strong> written down. Finally, on <strong>each</strong> <strong>iteration</strong> you <strong>put</strong> the <strong>output</strong> <strong>in</strong> the <strong>corresponding</strong> <strong>cell</strong> <strong>in</strong> the <strong>mismatches</strong> <strong>array</strong> <strong>and</strong> <strong>after</strong> the <strong>for</strong> <strong>loop</strong> we should <strong>return</strong> the <strong>mismatches</strong> <strong>array</strong> and now we are sure to have the mismatches and also the <strong>hasMismatch</strong> <strong>variable</strong> <strong>to</strong> <strong>be</strong> <strong>changed</strong> <strong>to</strong> the <strong>corresponding</strong> <strong>value</strong>, because it&rsquo;s an out parameter.</p>
<p><br/> Here is a final version of the GetLinesWithPossibleMismatches method:</p>
<h3>Printing the data from the comparison to the output writer and to a mismatch file created.</h3>
<p>We&rsquo;ve gotten to the place where we need to <strong>implement</strong> the <strong>PrintOutput</strong> <strong>method</strong>. It <strong>has</strong> <strong>3</strong> <strong>parameters</strong> <strong>in</strong> it&rsquo;s <strong>declaration</strong>. The <strong>first</strong> <strong>one</strong> is the <strong>array</strong> that we just generated <strong>with</strong> the <strong>mismatches</strong> from the previous method. The <strong>second</strong> <strong>parameter</strong> is whether there are <strong>any</strong> <strong>mismatches</strong> <strong>and</strong> the <strong>third</strong> <strong>one</strong> is the <strong>path</strong> <strong>to</strong> the <strong>mismatches</strong> <strong>file</strong>. All we have to do is <strong>write</strong> <strong>all</strong> <strong>the</strong> <strong>lines</strong> <strong>from</strong> the <strong>mismatches</strong> <strong>on</strong> the <strong>output</strong> <strong>writer</strong> <strong>if</strong> there <strong>has</strong> a <strong>mismatch</strong>, <strong>append</strong> all the <strong>lines</strong> <strong>to</strong> the <strong>mismatch</strong> <strong>file</strong> using the given path <strong>and</strong> <strong>return</strong> so that we exit the method. <strong>If</strong> the <strong>hasMismatch</strong> is <strong>not</strong> <strong>true</strong>, we do not enter in the body of the if and all we do is <strong>write</strong> a <strong>message</strong> <strong>on</strong> a <strong>new</strong> <strong>line</strong> which is the following: <br/> &ldquo;Files are identical. There are no mismatches.&rdquo; <br/> Here is a how the implementation of what we just described above, should look:</p>
<p>Now we should be ready for testing. You are given three files with the current story piece called <strong>test1.txt, test2.txt, test3.txt</strong>. <strong>First</strong> <strong>compare</strong> the <strong>content</strong> <strong>of</strong> <strong>test1.txt</strong>, <strong>test2.txt</strong>, see what log is written in the mismatches file (mismatch file should not be existing, because there are no mismatches) and <strong>then</strong> compare <strong>test2.txt and test3.txt</strong> and again see the mismatches file to see what has changed.</p>
<h2>Problem 2. Saving some data for our current session </h2>
<p>The story doesn&rsquo;t end here. We have to make some modifications to some existing classes and also add some new. </p>
<p>The first new class we are going to write will hold the data for the current session. For now our only purpose is to have a place where we can save out current location and then move using only relative paths.</p>
<p>So we make our public static class called <strong>SessionData</strong> and our only variable in it will be the <strong>currentPath</strong>, which starts with a value of, the application&rsquo;s directory in the file system.</p>
<p>This variable can be very useful in the <strong>IOManager</strong>, because we can use it for different operations like <strong>traversing the current folder</strong>, <strong>creating files</strong> in the current folder, <strong>moving up and down in the folder tree</strong> and also as a starting point in order to navigate to the &ldquo;resources&rdquo; folder and <strong>read the</strong> <strong>Database</strong> from a <strong>file</strong> and not from the <strong>console</strong>&hellip;</p>
<p>We are going to go through each of these steps in big details so you would be able to understand how each component works.</p>
<p>So enough chit chat, let&rsquo;s start extending the current classes we have.</p>
<h2>Problem 3. Making directories</h2>
<p>First we are going to stop in the <strong>IOManager</strong> and make a method for making a directory. Since we have our <strong>currentPath</strong> in the <strong>SessionData</strong> class al we need is the name of the folder we are going to create.</p>
<p>Our method can be called <strong>CreateDirectoryInCurrentFolder</strong> (string &lt;the name of the folder&gt;) and it&rsquo;s implementation should look like this.</p>
<p>&nbsp;We use the method given fro the directory class, which takes an absolute an creates.</p>
<p>So now if we call it from the main method like this</p>
<p>And since the folder that our application is currently running in the bin\Debug debug folder of the application, there a folder with a name &ldquo;pesho&rdquo; should be added.</p>
<h2>Problem 4. Modifying the traversal</h2>
<p>Now that we are done with that and since we now have some space where we can save the current folder, we are going to start our traversal method, using the current folder. All we have to do is <strong>remove</strong> the <strong>string</strong> <strong>path</strong> <strong>argument</strong> and also change it with <strong>Session.currentPath</strong></p>
<p>Your traverse method should now start like this:</p>
<p>Try testing the functionality now!</p>
<p>If this is your result you&rsquo;ve done your job well.</p>
<p>Another thing we might want to add to the current implementation of the traversal, the display of the files in the current folder. It is pretty similar to the adding of the subfolders. All we need is a <strong>foreach</strong> <strong>loop</strong> and to <strong>use</strong> the <strong>Directory</strong>.<strong>GetFiles</strong>(<strong>path</strong>) to get all the files and display them. The display of the files should be <strong>between</strong> the <strong>display</strong> <strong>of</strong> the <strong>current</strong> <strong>path</strong> <strong>and</strong> the <strong>adding</strong> <strong>of</strong> the <strong>subfolders</strong>.</p>
<p>In order <strong>to</strong> <strong>display</strong> the <strong>file</strong>, we will <strong>change</strong> the <strong>path</strong> <strong>to</strong> the <strong>given</strong> <strong>file</strong> with <strong>dashes</strong>, because we can see the folder we are in on the line before the display of the files and this way we can focus on the file names.<br/> To get the whole path, we will get the index of the last &lsquo;\&rsquo;(backslash) and print a string with such a length of dashes, followed by the file name like shown below:</p>
<p>and the output of traversal with depth 0 should now be similar to the given:</p>
<p> </p>
<p>There is just one final piece of code we need to add to this method and it should be tip top. Bearing in mind that we added a parameter for the depth of the traversal, maybe we should <strong>include</strong> it as some kind of a <strong>condition</strong> in our code <strong>so</strong> that <strong>it</strong> <strong>would</strong> <strong>be</strong> <strong>easier</strong> <strong>to</strong> <strong>know</strong> <strong>when</strong> <strong>to</strong> <strong>stop</strong> <strong>traversing</strong> if we&rsquo;ve gone deep enough and in order to check how deep we&rsquo;ve gone, we can use the indentation variable that gives us exactly this. So after the assigning of a value to this variable, you can add the following line of code:<br/> <br/> </p>
<p>This way we are sure to <strong>stop</strong> the <strong>traversal</strong> <strong>before</strong> we <strong>print</strong> the <strong>current</strong> <strong>folder</strong>, <strong>if</strong> we&rsquo;ve gone <strong>deep</strong> <strong>enough</strong>.</p>
<p>Now the question remains, how do we change the starting folder and can we do it with relative and absolute paths. Well we should be able to implement it and the only thing we should probably keep in mind is whether the given path exists.</p>
<h2>Problem 5. Changing directories</h2>
<p>So again using the <strong>IOManager</strong>, we make two functions. One that moves forwards and backwards in the folders and one that gets an absolute path and goes directly there(<strong><em>Note</em></strong>: there are many machine specific things in the path if it is absolute).</p>
<p><strong>In</strong> the <strong>relative</strong> <strong>change</strong> of <strong>folder</strong> <strong>method</strong>, we may won&rsquo;t to check <strong>if</strong> the <strong>user</strong> would like to <strong>go</strong> <strong>one</strong> <strong>folder</strong> <strong>back</strong>, and the <strong>command</strong> for this <strong>is</strong> &ldquo;<strong>cdRel</strong> <strong>..&rdquo;</strong> in the command prompt, so we will use <strong>&ldquo;..&rdquo;</strong> for a string that <strong>indicates</strong> <strong>that</strong> <strong>the</strong> <strong>user</strong> <strong>wants</strong> <strong>to</strong> <strong>go</strong> <strong>one</strong> <strong>folder</strong> <strong>up</strong> <strong>the</strong> <strong>file</strong> <strong>tree</strong>. <strong>If</strong> he <strong>wants</strong> <strong>to</strong> <strong>go</strong> <strong>into</strong> one <strong>folder</strong>, the <strong>string</strong> for <strong>path</strong> should be the <strong>current</strong> <strong>session</strong> <strong>path</strong> <strong>+</strong> <strong>&lsquo;\&rsquo; + the name of the folder</strong> we want to enter. <strong>Using</strong> the <strong>relative</strong> <strong>path</strong> and the current path of the traverser, we can easily <strong>create</strong> an <strong>absolute</strong> <strong>path</strong> an by <strong>using</strong> the <strong>method change for absolute path</strong>, we can <strong>reuse</strong> the <strong>check</strong> whether the given path exists or not.</p>
<p>Note that for going to the previous path, we <strong>take</strong> the <strong>last</strong> <strong>index</strong> <strong>of</strong> the <strong>backslash</strong> which is right after the previous folder and after that we <strong>take</strong> a <strong>substring</strong> <strong>from</strong> <strong>0</strong> with the given <strong>index</strong> representing the <strong>number</strong> <strong>of</strong> <strong>elements</strong> before the backslash, so if we take that substring, we have the absolute path to the parent folder of the current one, so we take it as a current folder.<br/> However <strong>if</strong> the <strong>command</strong> <strong>is</strong> <strong>not</strong> &ldquo;<strong>..</strong>&rdquo;, but a path, we add <strong>make</strong> a <strong>new</strong> <strong>absolute</strong> <strong>path</strong> and <strong>reuse</strong> <strong>some</strong> <strong>code</strong> by calling the other method. This way we have less code duplicates in the two methods.</p>
<p>The change directory with absolute path method is actually not very complicated. All we do is <strong>using</strong> the <strong>API</strong> from the <strong>Directory</strong> <strong>class</strong>, <strong>check</strong> <strong>whether</strong> such a <strong>path</strong> <strong>exists</strong> in the operating system. <strong>If</strong> it <strong>does</strong> <strong>not</strong>, we <strong>display</strong> an <strong>error</strong> <strong>message</strong> for <strong>invalid</strong> <strong>Path</strong> which we should first add in the ExceptiionMessages class, called <strong>InvalidPath</strong> <strong>and</strong> a <strong>message</strong> containing the following text: &ldquo;The folder/file you are trying to access at the current address, does not exist.&rdquo; and after that <strong>return</strong> so that it can exit the method. <strong>If</strong> the <strong>device</strong> <strong>has</strong> a <strong>folder</strong> <strong>with</strong> <strong>such</strong> a <strong>path</strong>, it is <strong>set</strong> <strong>to</strong> the <strong>currentPath</strong> at the end of the method.</p>
<p>By now we should be ready with everything in the <strong>IOManager</strong> <strong>class</strong>, so we can test the whole functionality. Now you can <strong>test</strong> the <strong>functionality</strong> of everything we&rsquo;ve written today and more specific the part with the <strong>IOManager</strong> and if there is something wrong with the whole picture, you may want to fix it, so that everything it according to the documents, for the next exercise.</p>
<h2>PART&nbsp;4</h2>
<h1>Lab: Exception Handling</h1>
<p>The piece from this lecture is <strong>not</strong> <strong>going</strong> <strong>to</strong> <strong>add</strong> any <strong>additional</strong> <strong>functionality</strong> to what the final user can see, <strong>only</strong> <strong>handle</strong> some <strong>possible</strong> <strong>errors</strong> that may appear for some corner cases. These cases are not so much, because</p>
<ol>
<li>We haven&rsquo;t got so much code, in order to have many error prone places.</li>
<li>We are taking safety precautions and check much of the input information, so that such unexpected events can&rsquo;t happen.</li>
</ol>
<p>So let&rsquo;s start get started with filling some holes in our application.</p>
<h2>Problem 1. Cover Possible Unexpected Behavior in Traversal Method in the IOManager</h2>
<p>The first thing you might want to think about is whether your user can access all the folders and files in the file system and if there are some that you may not, what happens. Well, let&rsquo;s try.</p>
<p><strong>Try</strong> <strong>traversing</strong> the <strong>windows</strong> <strong>directory</strong> on your PC, but before that you should go to that directory using the absolute change of directory.&nbsp;</p>
<p>The result should be something like the following lines:</p>
<p>As you&rsquo;ve probably noticed, trying to access folders for which we do not have rights, <strong>throws</strong> an <strong>UnauthorizedAccessException</strong>, and it <strong>ruins</strong> the <strong>user</strong> <strong>experience</strong> <strong>and</strong> <strong>breaks</strong> the <strong>functionality</strong> <strong>of</strong> our <strong>application</strong>.</p>
<p>In order for our program to <strong>catch</strong> such an <strong>exceptional</strong> <strong>event</strong>, <strong>handle</strong> <strong>it</strong> <strong>and</strong> <strong>continue</strong> <strong>working</strong>, we have to <strong>add</strong> the <strong>try</strong>-<strong>catch</strong> <strong>block</strong> to <strong>put</strong> the <strong>reading</strong> <strong>of</strong> the <strong>data</strong> <strong>in</strong> the <strong>try</strong> <strong>block</strong> and <strong>if</strong> an <strong>exception</strong> is <strong>catch</strong> we <strong>display</strong> a <strong>message</strong> suitable <strong>for</strong> the <strong>current</strong> <strong>event</strong>, but <strong>in</strong> a more <strong>user</strong> <strong>friendly</strong> <strong>way</strong>.</p>
<p>This type of exception message is not yet in the <strong>ExceptionMessages</strong>, so you should <strong>add</strong> <strong>it</strong> <strong>and</strong> <strong>put</strong> the <strong>following</strong> <strong>message</strong>: &ldquo;The folder/file you are trying to get access needs a higher level of rights than you currently have.&rdquo;.<br/> <br/> Now the possible problems with the traversal are solved. And we can proceed with the next thing.</p>
<h2>Problem 2. Reading Two Files for Comparison in the Tester Class</h2>
<p>We need to take care of one more thing before we finally leave our main logic and move onto printing the results. What <strong>if</strong> <strong>one</strong> <strong>of</strong> the <strong>files</strong> is <strong>smaller</strong> <strong>than</strong> the <strong>other</strong> <strong>one</strong>? <strong>Try</strong> <strong>comparing</strong> the <strong>two</strong> <strong>files</strong> given to you, called <strong>expected</strong> <strong>and</strong> <strong>actual</strong> from the current piece and you may <strong>see</strong> the <strong>result</strong>. It should be something like this:</p>
<p>The <strong>outputs</strong> are definitely <strong>not</strong> <strong>identical</strong>, but we still would like a match/mismatch report. There are many ways to achieve this but maybe to catch the exception here would not be the best choice. For that reason, we are going to <strong>add</strong> <strong>one</strong> <strong>variable</strong>, the <strong>minimal</strong> <strong>number</strong> <strong>of</strong> <strong>lines</strong> <strong>of</strong> the <strong>two</strong> <strong>files</strong>. We <strong>check</strong> <strong>if</strong> the <strong>arrays</strong> that hold all the lines from the files, <strong>are</strong> <strong>with</strong> the <strong>same</strong> <strong>length</strong> and <strong>if</strong> they <strong>are</strong> <strong>not</strong>, <strong>set</strong> the <strong>minimal</strong> <strong>number</strong> <strong>of</strong> <strong>lines</strong> <strong>to</strong> the <strong>shorter</strong> <strong>length</strong>, <strong>set</strong> the <strong>hasMismatch</strong> variable to <strong>true</strong> and finally <strong>display</strong> an <strong>error</strong><strong>.</strong> However, we first need to <strong>add</strong> <strong>it to</strong> the <strong>Exception</strong> <strong>messages</strong> <strong>class</strong>, named <strong>ComparisonOfFilesWithDifferentSizes</strong> and with the following message &ldquo;Files not of equal size, certain mismatch.&rdquo; All what we&rsquo;ve just talked about is displayed below in the piece of code that you should insert before the for loop that compares line by line.</p>
<p>After that we should only <strong>replace</strong> the <strong>variable</strong> <strong>in</strong> the <strong>for</strong> <strong>loop</strong> for the <strong>upped</strong> <strong>boundary</strong> of the index.</p>
<p>Finally, we should also <strong>move</strong> the <strong>initialization</strong> of the <strong>mismatch</strong> <strong>array</strong>, <strong>under</strong> the <strong>if</strong> <strong>statement</strong> and also <strong>change</strong> the <strong>capacity</strong> <strong>of</strong> the <strong>array</strong> <strong>to</strong> the <strong>value</strong> <strong>of</strong> <strong>minOutputLines</strong>.</p>
<p>Now that we&rsquo;ve fixed the situation here, we should <strong>proceed</strong> <strong>to</strong> the <strong>next</strong> <strong>step</strong>.</p>
<h2>Problem 3. Reading two files for comparison from invalid path</h2>
<p>We took safety precautions about the number of rows in each file, but what we didn&rsquo;t think of, <strong>what</strong> <strong>could</strong> <strong>happen</strong> <strong>if</strong> the <strong>path</strong> <strong>given</strong> to the file is <strong>not</strong> a <strong>valid</strong> path. Let&rsquo;s try it:</p>
<p>Results in the following:</p>
<p>If we are <strong>making</strong> any kind of <strong>user</strong> <strong>interface</strong>, the <strong>application</strong> <strong>should</strong> always <strong>presume</strong> that the <strong>user</strong> <strong>is</strong> a <strong>two</strong>-year-old and <strong>can</strong> <strong>probably</strong> <strong>do</strong> <strong>or</strong> <strong>enter</strong> just about <strong>everything</strong> you can imagine <strong>and</strong> even <strong>more</strong>.</p>
<p>So the thing we are going to <strong>change</strong> in the <strong>Tester class</strong> is to <strong>put</strong> the <strong>reading</strong> <strong>from</strong> the <strong>files</strong> <strong>in</strong> a <strong>try</strong> <strong>block</strong> and <strong>catch</strong> the <strong>file</strong> <strong>not</strong> <strong>found</strong> <strong>exception</strong> and <strong>display</strong> a <strong>related</strong> to the <strong>error</strong> <strong>message</strong>. Now you code should be looking like this:</p>
<p>This should change to:</p>
<p>We are reusing the message for the invalid path in the current action, so we do not need to make a new one. <br/> Alright, now that we are done, let&rsquo;s proceed to what is considered forbidden and what is consider allowed when talking about creating names of files and folders.</p>
<h2>Problem 4. Making a Directory with Illegal Symbols</h2>
<p>I don&rsquo;t know if you&rsquo;ve noticed but not every symbol is permitted to be used when giving a name to a folder or a file. This is why we must <strong>consider</strong> <strong>listening</strong> <strong>for</strong> <strong>exceptions</strong> <strong>when</strong> the <strong>user</strong> <strong>creates</strong> a <strong>new</strong> <strong>folder</strong> <strong>using</strong> the <strong>public</strong> <strong>method</strong> <strong>CreateDirectoryInCurrentFolder, </strong>because the <strong>user</strong> <strong>can</strong> <strong>always</strong> <strong>make</strong> some <strong>mistakes</strong> and <strong>enter</strong> an <strong>invalid</strong> <strong>folder</strong>/<strong>file</strong> <strong>name</strong>&hellip; Let&rsquo;s see what happens now if we <strong>try</strong> <strong>to</strong> <strong>create</strong> a <strong>new</strong> <strong>folder</strong> <strong>called</strong> <strong>*2</strong>.</p>
<p>And the result of the current operation will give us the following horrible screen:</p>
<p>Our task now is to <strong>catch</strong> that <strong>argument</strong> <strong>exception</strong> and <strong>display</strong> an <strong>understandable</strong> <strong>user</strong> <strong>message</strong> <strong>on</strong> the <strong>output</strong> <strong>writer</strong></p>
<p>The <strong>operation</strong> that <strong>throws</strong> the <strong>exception</strong> <strong>in</strong> the <strong>creation</strong> of <strong>directory</strong> <strong>method</strong> is clearly the <strong>Directory.CreateDirectory(path)</strong> and since we know that fact, we can easily <strong>put</strong> <strong>it</strong> <strong>in</strong> a <strong>try</strong> <strong>block</strong>, to <strong>catch</strong> the <strong>raised exception</strong>.</p>
<p>The modified implementation of the method should look pretty similar to the following piece of code:</p>
<p>As you can see we are <strong>displaying on </strong>the <strong>output </strong>a <strong>message called ForbiddenSymbolsContainedInName</strong>, however it is <strong>no yet added in </strong>the <strong>ExceptionMessages class</strong>, <strong>so </strong>it is your job to <strong>do it </strong>now. The <strong>message </strong>it has <strong>is </strong>&ldquo;<strong>The given name contains symbols that are not allowed to be used in names of files and folders.</strong>&rdquo;.</p>
<p>Now you can <strong>try</strong> <strong>starting</strong> the <strong>program</strong> <strong>again</strong> <strong>and</strong> the <strong>output</strong> <strong>should</strong> be the <strong>user</strong> <strong>styled</strong> <strong>message</strong>.</p>
<h2>Problem 5. Printing to a Non-Existing Path</h2>
<p>Since we generate the path for the mismatches from the expected output path, if it is wrong, the program shouldn&rsquo;t even arrive to the point in the PrintOutput in the Tester class, however we can never be sure whether some event might trigger such an exception, so that&rsquo;s why we&rsquo;ll double check and put the File.WriteAllLines in a try block with a DirectoryNotFoundException catch block watching whether such an exception is raised. After this change the print output should look like this:</p>
<h2>Problem 6. Going One Folder up the Hierarchy</h2>
<p>As we know, the logic for the changing of the folders works correctly, but have you tried to go one folder up when you are in the root folder of the partition.</p>
<p>Let&rsquo;s <strong>call</strong> the <strong>ChangeCurrentDirectoryRelative</strong> <strong>enough</strong> <strong>times</strong> <strong>with</strong> the parameter <strong>&ldquo;..&rdquo;,</strong> <strong>so</strong> that we are <strong>sure</strong> <strong>to</strong> <strong>go</strong> <strong>up</strong> <strong>until</strong> the <strong>root</strong> <strong>folder</strong> <strong>of</strong> the <strong>current</strong> <strong>partition</strong> <strong>and</strong> then <strong>one</strong> <strong>folder</strong> <strong>above</strong>.</p>
<p>In my case that&rsquo;s 7 calls of the following line of code:</p>
<p>And that results in the following situation:</p>
<p><br/> If we <strong>put</strong> <strong>all</strong> the <strong>operations</strong> that are in the <strong>body</strong> <strong>of</strong> the <strong>if</strong> that checks for the two dots, <strong>in</strong> a <strong>try</strong> <strong>block</strong>, we&rsquo;ll be able <strong>to</strong> <strong>catch</strong> the <strong>raised</strong> <strong>exception</strong> in the exact time <strong>and</strong> <strong>print</strong> the <strong>corresponding</strong> <strong>message</strong> for such a situation.</p>
<p><br/> Now try running the same code you did and see the result. </p>
<p>These are surely not all the exceptional cases in our program, but these are some of them. You may use the techniques that we used in order to find these holes in the functionality and try to find some other errors that might occur.</p>
<p>Congratulations! You&rsquo;ve completed the lab exercises for Exception Handling.</p>
<h2>PART&nbsp;5</h2>
<p><strong>Lab: Manual String Processing</strong></p>
<p><strong>Implementing the command interpreter of our Bash</strong></p>
<p>Now is probably the key moment in the application we are building. Currently our app is a stack of different functionalities that are coupled to the class with the Main method and to be more specific to the commands we have written there. However, our application has no predefined order of the commands and the main aim is to provide interpretation of these commands at runtime. So now our job is to <strong>build</strong> an <strong>interpreter</strong> <strong>that</strong> <strong>calls</strong> the <strong>functionalities</strong> we already have.</p>
<p>We are going to need <strong>two</strong> <strong>public</strong> <strong>static</strong> <strong>classes</strong> that <strong>handle</strong> the <strong>input</strong> and the <strong>commands</strong>. The <strong>first</strong> <strong>one</strong> is called <strong>InputReader</strong> and the <strong>second</strong> <strong>one</strong> is called <strong>CommandInterpreter.</strong></p>
<p>Now that you have created these classes we are going to write some code so that they could get their jobs done.</p>
<h2>Problem 1. Implement InputReader class</h2>
<p>First we are going to start with the <strong>InputReader</strong> because it <strong>uses</strong> the <strong>command</strong> <strong>interpreter</strong> <strong>to</strong> <strong>do</strong> <strong>some</strong> of its <strong>job.</strong></p>
<p>The only method for now will be called from the main one that starts to <strong>listen</strong> <strong>for</strong> <strong>commands</strong> and <strong>executes</strong> <strong>them</strong> <strong>if</strong> the <strong>syntax</strong> is <strong>correct</strong>. We will name this <strong>method</strong> <strong>StartReadingCommands()</strong> and it&rsquo;s return type will be void.</p>
<p>You&rsquo;ve probably opened the Command Prompt before and you&rsquo;ve seen that you do not write your commands on empty lines. Instead the folder that you are currently in is the beginning of the line.</p>
<p>In order to add this functionality so that our bash <strong>looks</strong> <strong>like</strong> the <strong>command</strong> <strong>prompt</strong>, we will <strong>write</strong> a <strong>message</strong> <strong>on</strong> the <strong>OutputWriter </strong>which will be the <strong>current</strong> <strong>path</strong> <strong>from</strong> the <strong>SessionData</strong> class <strong>followed</strong> <strong>by</strong> <strong>&lsquo;&gt;</strong>&rsquo;.</p>
<p>Now it&rsquo;s time to read an input and trim it from all white spaces.</p>
<p>However, <strong>once</strong> we&rsquo;ve <strong>interpreted</strong> the <strong>current</strong> <strong>command</strong> we want to <strong>continue reading </strong>the next commands so maybe here will be a good time to <strong>add</strong> a <strong>while</strong> <strong>loop</strong> and <strong>read</strong> a <strong>new</strong> <strong>input</strong> <strong>at</strong> the <strong>end</strong> <strong>of</strong> the <strong>loop</strong>. Note that we <strong>repeat</strong> the <strong>code</strong> <strong>above</strong> <strong>in</strong> our <strong>while</strong> <strong>loop</strong> but we <strong>do</strong> the <strong>first</strong> <strong>read</strong> <strong>out</strong> <strong>of</strong> the <strong>loop</strong>, because even the first command can be the command for terminating the BashSoft.</p>
<p>Now we have only two things left to do in the while loop, to finish with its implementation. Firstly, we should <strong>set</strong> some <strong>condition</strong> <strong>for</strong> which the <strong>while</strong> <strong>loop</strong> has to be true. A good way of doing this is to <strong>make</strong> a <strong>constant</strong> <strong>for</strong> the <strong>command</strong> <strong>for</strong> <strong>termination</strong> (which is &ldquo;quit&rdquo;) and <strong>then</strong> <strong>check</strong> <strong>in</strong> the <strong>condition</strong> <strong>of</strong> the <strong>loop</strong> whether the input is different from the termination command.</p>
<p>The declaration of a constant looks like this:</p>
<p>and it is <strong>private</strong> because <strong>we</strong> <strong>do</strong> <strong>not</strong> <strong>want</strong> <strong>other</strong> <strong>classes</strong> <strong>to</strong> be able to <strong>see</strong> <strong>it</strong> <strong>or</strong> <strong>use</strong> <strong>it</strong>. Your task now is to <strong>implement</strong> the <strong>check</strong> <strong>between</strong> the <strong>end</strong> <strong>command</strong> <strong>and</strong> the <strong>input</strong>.</p>
<h2>Problem 2. Interpreting commands</h2>
<p>Once you&rsquo;ve done that it is time to move on to the <strong>interpreting</strong> of a <strong>command</strong>. Before substituting the comment with some code, we have to <strong>write</strong> the <strong>functionality</strong> <strong>for</strong> <strong>interpreting</strong> a <strong>command</strong>. This functionality is somewhat a <strong>different</strong> <strong>task</strong> from reading input and for this reason we will <strong>use</strong> <strong>another</strong> <strong>class</strong> you&rsquo;ve already made and <strong>write</strong> the <strong>method</strong> <strong>that</strong> <strong>interprets</strong> a <strong>command</strong>.</p>
<p>It can be called exactly as its purpose and its declaration should be similar to this:</p>
<p>However, in order <strong>to</strong> <strong>write</strong> an <strong>implementation</strong> <strong>for</strong> this <strong>method</strong> we need to <strong>know</strong> <strong>all</strong> the <strong>commands</strong> that our <strong>interpreter</strong> <strong>is able to understand</strong>.</p>
<p>The declaration of a command will be given in the following format:</p>
<p><strong>Description of the command &ndash; actual command and possible parameters</strong></p>
<p>Here is a list of all of them:</p>
<p>Commands list:</p>
<ul>
<li><strong>mkdir</strong> <strong>directoryName</strong> &ndash; create a directory in the current directory</li>
<li><strong>ls (depth)</strong> &ndash; traverse the current directory to the given depth</li>
<li><strong>cmp</strong> <strong>absolutePath1</strong> <strong>absolutePath2</strong> &ndash; comparing two files by given two absolute paths</li>
<li><strong>changeDirRel</strong> <strong>relativePath</strong> &ndash; change the current directory by a relative path</li>
<li><strong>changeDirAbs</strong> <strong>absolutePath</strong> &ndash; change the current directory by an absolute path</li>
<li><strong>readDb</strong> <strong>dataBaseFileName</strong> &ndash; read students database by a given name of the database file which is placed in the current folder</li>
<li><strong>filter</strong> <strong>courseName</strong> <strong>poor/average/excellent take 2/10/42/all</strong> &ndash; filter students from à given course by a given filter option and add quantity for the number of students to take or all if you want to take all the students matching the current filter option</li>
<li><strong>order</strong> <strong>courseName</strong> <strong>ascending/descending take 3/26/52/all</strong> &ndash; order student from a given course by ascending or descending order and then taking some quantity of the filter or all that match it</li>
<li><strong>download (path of file)</strong> &ndash; download a file</li>
<li><strong>downloadAsynch: (path of file)</strong> &ndash; download file asinchronously</li>
<li><strong>help</strong> &ndash; get help</li>
<li><strong>open</strong> &ndash; opens a file</li>
</ul>
<p>An easy approach is to <strong>check</strong> <strong>if</strong> the <strong>input</strong> <strong>command</strong> corresponds to the ones given in the <strong>commands</strong> <strong>set</strong>. And <strong>if</strong> the given command <strong>exists</strong>, to <strong>check</strong> for the <strong>input</strong> <strong>parameters</strong>. The primary check you may need to perform over the input parameters in each command could be whether the <strong>number</strong> <strong>of</strong> <strong>parameters</strong> <strong>corresponds</strong> <strong>to</strong> the <strong>number</strong> <strong>of</strong> <strong>parameters required by the respective command</strong>. So you&rsquo;ll probably need this piece of code in each method for calling the given command (data is all the parameters given on the current line, split by a space):</p>
<p>An approach to <strong>check</strong> <strong>whether</strong> the <strong>command</strong> <strong>is</strong> one of the <strong>possible</strong> can be achieved if we <strong>split</strong> the <strong>input</strong> by a <strong>space</strong> and <strong>check</strong> the <strong>element</strong> with index <strong>0</strong> in a <strong>switch</strong>-<strong>case.</strong> <strong>If</strong> it <strong>enters</strong> one of the cases, we <strong>call</strong> the <strong>corresponding</strong> <strong>method</strong> that <strong>executes</strong> the <strong>given</strong> <strong>command</strong>. <strong>If</strong> <strong>no</strong> <strong>command</strong> <strong>matches</strong> the input, then the default action is a method that <strong>displays</strong> a <strong>message</strong> for an <strong>invalid</strong> <strong>command</strong>. <strong>InterpretCommand</strong> <strong>method</strong> should look something like this:</p>
<p>In all the cases we have a lot of methods that we call which are not yet known and we haven&rsquo;t talked about. However almost <strong>every</strong> <strong>single</strong> <strong>one</strong> of them <strong>contains</strong> the <strong>check</strong> <strong>for</strong> the <strong>number</strong> of <strong>parameters</strong>. First we are going to <strong>look</strong> <strong>at</strong> the <strong>implementation</strong> <strong>of</strong> the <strong>method</strong> that <strong>displays</strong> an <strong>invalid</strong> <strong>command</strong> <strong>message</strong>. Actually the only thing that we do <strong>in</strong> this <strong>function</strong> is to <strong>display</strong> an <strong>exception</strong> in the <strong>following</strong> <strong>format</strong>: $"<strong>The command '</strong><strong>{input}</strong><strong>' is invalid</strong>&rdquo; (<strong><em>Display</em></strong><em> <strong>exception</strong> <strong>using</strong> the <strong>OutputWriter</strong></em>). We are going to call this method every time when something with the commands or parameters is not ok and notify the user that something went wrong.</p>
<p>Now we have to look at the implementations of the other methods and follow the order in which they were given above.</p>
<ol>
<li><strong>Open file</strong> &ndash; all we need to know here is the name of the file that we have to open and then we <strong>use</strong> the <strong>current</strong> <strong>path</strong> from the <strong>Session Data</strong> to <strong>generate</strong> the <strong>absolute</strong> <strong>path</strong> of the <strong>file</strong>. The <strong>length</strong> of the <strong>data</strong> <strong>must</strong> <strong>be</strong> <strong>2</strong> Finally, we need to know how to open files with their default program, using C# and this is done using the following code:</li>
</ol>
<ol>
<li><strong>Make directory</strong> &ndash; when making a directory, again we need to check if the length of the data array equals 2 and then take the folder name and create such a folder using the functionality in the <strong>IOManager</strong>:</li>
<li><strong>Traverse current folder</strong> &ndash; here it is not necessary to have any parameters (only<strong> ls </strong>will display<strong> the files and subfolders in the current folder</strong>) or you can have just one parameter (the depth to go in [ls 4]). If the number of elements in the data array is 1, we call the <strong>TraverseDirectory</strong> from the <strong>IOManager</strong> with depth of 0 and if the elements are 2, then the second element should be the depth and we try to parse it. In case of success pass it to the method for traversal. <strong>If the parameter can&rsquo;t be parsed</strong>, we print an exception message on the output writer using its method Display exception. We should first add the exception we talked about to the ExceptionsMessages class with the name UnableToParseNumber and a message: &ldquo;The sequence you've written is not a valid number.&rdquo; The code inside the check for whether the elements are two looks something like this: </li>
<li><strong>Compare content of two files</strong><strong> &ndash;</strong> if the input corresponds to this command, two parameters are expected, <strong>which are the absolute path of the first and the absolute path of the second file</strong> and if there are any mismatches, a new log file is created in the same folder as the second file path. The way we compare two files is already implemented in the <strong>Tester </strong>class, so we just need to call it if all conditions are true:</li>
<li><strong>Change directory relative</strong><strong> &ndash; </strong>here the path given should be appended to the current path in the <strong>SessionData </strong>and then it is passed to the <strong>change directory absolute</strong>, because an actual absolute path is generated, but we have all of this implemented in the <strong>IOManager</strong> so we are going to use it to change the current directory by a relative path&hellip;</li>
<li><strong>Change directory absolute</strong> &ndash; the approach now is pretty much the same as in the previous command.</li>
<li><strong>Read database</strong> &ndash; the parameter needed here for the initialization of the database is a file name from which to read the database of SoftUni. Note that only the name is wanted, which should mean that the file will be searched in the current folder. So maybe we can use the StudentRepository and make a few changes so that our new input comes from a file and not from the console.</li>
</ol>
<p><br/> First thing you might want to add is a parameter for the public method<strong> InitializeData()</strong> from the student repo so it should look something like this :<br/> <br/> public static void InitializeData(string fileName)</p>
<p><br/> However <strong>InitializeData</strong> is just a <strong>fa&ccedil;ade</strong> <strong>for</strong> the <strong>method</strong> <strong>that</strong> <strong>does</strong> the <strong>actual</strong> <strong>reading</strong> of the data, <strong>so</strong> we need to <strong>add</strong> the <strong>same</strong> <strong>parameter</strong> <strong>in</strong> this <strong>method</strong> <strong>and</strong> then <strong>pass</strong> the <strong>filename</strong> <strong>to</strong> the <strong>ReadData</strong> call:</p>
<p><br/> private static void ReadData(string fileName)</p>
<p>Now it&rsquo;s time for only a little change in the read data method. First we need to remove the while loop and all the places where we read from the console and finally the input variable. After that you can make a new variable to generate the absolute path and instead checking the Direcotry we will check if the file exists.</p>
<p>If the path exists we are going to do all the processing of the input, so you may <strong>copy all the code that was in the while loop and paste it in the body of the if statement</strong>. Now that you know that there is such a file, you may read it. And after that <strong>wrap everything that was in the while loop in a for loop</strong>, <strong>iterating through all the lines of the file and processing them one by one</strong>. Your code in the if should begin with something like this:</p>
<p><br/> If the path does not exist however, an exception with the name InvalidPath from the ExceptionsMessages is displayed on the OutputWriter. Now that we&rsquo;ve done all these changes, we can easily call the method from the command interpreter like this.</p>
<ol>
<li><strong>Get help</strong> &ndash; does not need any parameters. Displays some information about all of the commands, so that we can use them easily. We&rsquo;ve given the whole code for the get help method in the file appended with this lecture. Use it to copy all the printing and not lose time in doing such things. The file is called getHelp.txt.</li>
<li><strong>For the rest of the commands</strong> <strong>&ndash; </strong>you may leave the body empty, because we do not have the functionality implemented yet.</li>
</ol>
<p><br/> So now that we&rsquo;ve written the functionality for the command interpreter, we can link it to the <strong>InputReader</strong> and we should be finally done. All we have to do is to go back to the input reader and <strong>change</strong> the <strong>comment</strong> <strong>for</strong> <strong>interpreting</strong> the command <strong>with</strong> the <strong>method</strong> that interprets a command from the command interpreter.</p>
<p><br/> CommandInterpreter.InterpredCommand(input);</p>
<p><br/> Now we should be done with the functionality for interpreting commands and we will only extend it further on in future pieces in order to implement the full functionality of our BashSoft. And we should also be ready with the whole piece. The only thing left is to call the StartReadingCommands from the main method, and test all the functionality that we have by now. We&rsquo;ll leave the part with the testing to you, but we&rsquo;ll show a few pictures of the current state of the program:</p>
<p>In the next piece we are going to learn how to make more restricted, pattern following data and</p>
<p>filter it easily.</p>
<p>Congratulations! You&rsquo;ve successfully completed the lab for Manual String Processing.</p>
<h2>PART&nbsp;6</h2>
<h1>Lab: Regular Expressions</h1>
<p>In the current lab we are going to introduce some restrictions in the data for our database. Below you can see the constraints to validate the input entry before adding it to the data structure.</p>
<p><strong>Input format</strong> &ndash; the format for the input should be the following:</p>
<p><strong>{Course Name}_{Course Instance}{One or more white spaces}{Username}{One or more white spaces}{Score}</strong></p>
<p>Our task now is to write a regular expression that matches only valid entries, so we can add them to our data structure safely. Here is some example input data that may be given:</p>
<p>C#_Feb_2015 Kiko23_4144 69</p>
<p>JSApps_Dec_2014 Ivo42_230 17</p>
<p>C#_Jul_2016 Kiko23_4144 94</p>
<p>JSApps_Dec_2014 Sten16_96 41</p>
<p>C#_Feb_2015 Desi12_2001 77</p>
<p>WebFundamentals_Oct_2015 Ivo42_230 238</p>
<p>DataStructures_Apr_2016 Ivan23_923 94</p>
<p>C#_July_2016 Rdsauja16_23 71</p>
<p>JSApps_Dec_2014 NiK68_0192 1</p>
<p>Unity_Jan_2016 Sten16_96 56</p>
<p>unity_Jan_2016 Sten16_96 53</p>
<p>JSApps_Dec_2014 Stan21_23 46</p>
<p>C#_Feb_2015 NiK68_0192 53</p>
<p>DataStructures_Apr_2016 Stan21_23 93</p>
<p>WebFundamentals_Oct_2015 Desi12_2001 81</p>
<p>Java_May_2015 Ivo12_2341 77</p>
<p>C#_Feb_15 Sten16_96 12</p>
<p>C#_Feb_2015 Desi12_2001 93</p>
<p>WebFundamentals_Oct_2015 Kiko23_4144 87</p>
<p><strong>Course name &ndash; </strong>starts with a capital letter and may contain only small and capital English letters, plus &lsquo;+&rsquo; or hashtag &lsquo;#&rsquo;.</p>
<p><strong>Course instance &ndash;</strong> should be in the format &lsquo;Feb_2015&rsquo;, e.g. containing the first three letters of the month, starting with a capital letter, followed by an underscore and the year. The year should be between 2014 and the current year.</p>
<p><strong>Username</strong> &ndash; starts with a capital letter and should be followed by at most 3 small letters after that. Then it should have 2 digits, followed by an underscore, followed by two to four digits. <strong>Correct:</strong> Ivan23_234, Nas12_4215, Re14_203. <strong>Incorrect:</strong> Ivana33_123, Stan_12, Ìàðè31_421</p>
<p><strong>Score</strong> &ndash; should be in the range from 0 to 100.</p>
<p>We are going to write a regular expressing for validating the input and implement it in the method for reading data from a file for the database of the university.</p>
<h2>Problem 1. Start Using a Regex Editor</h2>
<p>First we want to open some regex editor that will help us to complete our task. You can use whatever editor you like but you should be already familiar with <a href="https://regex101.com/">https://regex101.com/</a> so we give you its link here. Next you may want to paste the sample data given above in the TEST STRING box:</p>
<p>Next you need to include the global modifier by simply adding a &lsquo;g&rsquo; in the upper right corner:</p>
<p>&nbsp;Ok, that was pretty easy. Let&rsquo;s proceed with the next task.</p>
<h2>Problem 2. Using Groups</h2>
<p>We are going to have three groups, which are as follows:</p>
<p>1: Course name and instance</p>
<p>2: Student user name</p>
<p>3: Student score on task</p>
<p>First we will start with the first one and to be more specific with the course name. It should <strong>start</strong> with a <strong>capital letter</strong> so this is the first thing to add and you will be able to see as we go, how some data does not meet the conditions of the regex. So our regular expression so far should look like this:</p>
<p>And the matches are still quite unclear:</p>
<p>As you can see even from the first condition we don&rsquo;t catch the <strong>unity</strong> course written with small letters.</p>
<p>The next thing our regular expression should include is that the course name may contain small and capital letters as well as the symbols &lsquo;+&rsquo; and &lsquo;#&rsquo;:</p>
<p><br/> We have put an asterisk after the range, because the name of the course may be only of one capital letter. The result of the current modification looks like this:</p>
<p>Now it&rsquo;s time to add an underscore and the condition for the month name that follows, followed by an underscore:</p>
<p>Here the condition after the range should be exactly two letters, because the total number of letters for the name of the month is 3 and the first one should be capital. The result after this addition clearly shows where we are headed:</p>
<p>As you can see, now the C# course in July is no longer valid because the month is written with four letters.</p>
<p>Finally, it is time to add the year to the matching regular expression:</p>
<p><br/> Now we should be ready with the group for the course and the result that we match by now should be as the one below:</p>
<p>As you can see, now we don&rsquo;t catch the C#_Feb_15, because the year is not in the valid format.</p>
<p>Now it is time to write the next group for the user name which is really similar to the one we just wrote.<br/> We have to put a separator for one or more spaces followed by the group starting with a first capital letter:</p>
<p>The result after this filter is pretty much the same for the input we&rsquo;ve chosen, but there could have been a person whose name starts with lower letter or an entry where there is no space between the course and the user name:</p>
<p>Now we should finish the regex for the rest of the name before the two numbers that follow. We should keep in mind that the we can have <strong>at most</strong> 3 letters after the first capital letter. This means that we may have 3 letters but there may be no letters after the first one. So this may be expressed as follows in the regular expression:</p>
<p>After this addition you can note that even if C#_July_2016 was written following the conditions, the user name would still be incorrect and of course the whole entry would be invalid.</p>
<p>So the only thing left for the username is the <strong>two digits </strong>that follow after the letters, followed by an <strong>underscore</strong>, which is also followed by <strong>two to four digits:</strong></p>
<p>You may see below that 2 more matches are now invalid, because they don&rsquo;t match the required format for the user name and more specifically for the numbers that are in the user name:</p>
<p>The final group we need to catch is the group for the task &lsquo;s score for the given person and the given course:</p>
<p>The result with the given matches from the example should now look like this:</p>
<p>We&rsquo;ve finally written the whole regular expression and it is time to implement it in C# in the method that reads all the students from the &ldquo;database&rdquo; file, but now you will be given a new file that will contain entries that do not match the given format.</p>
<p>We are going to refactor some code in the <strong>ReadData</strong> method in the <strong>StudentRepository</strong> class because we will now have to get the data from the groups of the current match.</p>
<p>The first thing is to copy the pattern of the match for the entries and also create a new Regex with the given pattern: </p>
<p>Now that we have this instance of the Regex class, we can use it to check if there is a match with the current input line and if there is such, to get the data that we need from it in order to insert it in the data structure:</p>
<p>So the only thing left is to check if the score has been parsed and whether it is in the range between 0 and 100 and if all the three conditions are true, we can insert the data that we have extracted.</p>
<p>By now we should be ready with the <strong>implementation</strong> of the <strong>regular</strong> <strong>expressions</strong>.</p>
<h2>Problem 3. Adding Features to the Command Interpreter</h2>
<p>Just <strong>before</strong> <strong>testing</strong> our new functionality there is one little thing we can <strong>add</strong> <strong>to the</strong> <strong>Command</strong> <strong>Interpreter</strong>, because obviously we forgot adding it in the previous piece. We are going to add a new command which has the following format:</p>
<p><strong>show courseName (username) &ndash; user name may be omitted</strong></p>
<p>It&rsquo;s purpose is to show information for the given course or the given username for a course from the database.</p>
<p>In the switch of the <strong>Command Interpreter</strong> the case looks like as follows:</p>
<p>Now it&rsquo;s time to add the <strong>TryShowWantedData</strong> method and implement its functionality. We should only check for the number of parameters and depending on this, call the corresponding method.</p>
<h2>Problem 4. Testing Your Code</h2>
<p>Finally, we should be done with the corrections and now it&rsquo;s time for testing. Òhe only thing we should call in the <strong>main</strong> <strong>method</strong> is <strong>InputReader.StartReadingCommands();</strong></p>
<p>Since I&rsquo;ve put the dataNew.txt in the Debug folder, I only read it, but you &rsquo;ve put it elsewhere, you&rsquo;ll have to navigate to the folder first.</p>
<p>You should be ready with the testing! Next time expect to filter and order the data we have just read by some criteria using functional programming.</p>
<p>Congratulations! You&rsquo;ve completed the lab exercise for Regular Expressions.</p>